<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Rock paper scissors</title>
</head>
<body>
    <div class="buttons">
    <button class="rock"> Rock </button>
    <button class="paper"> Paper </button>
    <button class="scissors"> Scissors </button>
    </div>
    <div class="ans-container">
        <div class="ans"></div>
    </div>

    <script>
        
        // Global variables to decide who won a round 
        let playerWins = false;
        let computerWins = false;
        let numberOfGames = 0;

        // Computer choice
        function computerPlay(){
            const options = ["Rock", "Paper", "Scissors"];
            let randNumber = Math.floor(Math.random()*3);
            return options[randNumber];
        }

        // Player Choice 
        let playerAns;
        const buttonRock = document.querySelector(".rock");
        buttonRock.addEventListener('click', () => {
            playerAns = "Rock" 
            game();
        });

        const buttonPaper = document.querySelector(".paper");
        buttonPaper.addEventListener("click", () => {
            playerAns = "Paper";
            game();
        });

        const buttonScissors = document.querySelector(".scissors");
        buttonScissors.addEventListener("click", () => {
            playerAns = "Scissors";
            game();
        });

        // Play a single round 
        function playRound(playerSelection, computerSelection){
            if( (playerSelection.toUpperCase() === "ROCK" && computerSelection === 'Scissors') || 
                    (playerSelection.toUpperCase() === "PAPER" && computerSelection === 'Rock') ||
                    (playerSelection.toUpperCase() === "SCISSORS" && computerSelection === 'Paper')) {
                return playerWins = true; 
            } 
            if( (playerSelection.toUpperCase() === "ROCK" && computerSelection === 'Paper') || 
                    (playerSelection.toUpperCase() === "PAPER" && computerSelection === 'Scissors') ||
                    (playerSelection.toUpperCase() === "SCISSORS" && computerSelection === 'Rock') ) {
                return computerWins = true;
            }
        }

        // Play a game until somebody wins with 5
        function game(){
            // Initialize answers
            let computerAns = computerPlay();

            // Play single round
            playRound(playerAns, computerAns);
            const ans = document.querySelector(".ans");
            if(playerWins){
                ans.textContent = `Player won with ${playerAns}`;
                ans.setAttribute("style", "background-color: green");
                // ans.classList.remove('.')
            } 

            if (computerWins) {
                ans.textContent = `Computer won with ${computerAns}`;
                ans.style.backgroundColor = "red"; // Different inline method
            } 
            
            // Reset the round winner 
            playerWins = false; 
            computerWins = false;
            numberOfGames++;
            console.log(numberOfGames)
        }
        
        // The player selects their choice of the game, rock paper scissors
        // After the click the computer automatically starts the game 
        // The end result of the round is shown on the screen 
        // The player plays more rounds until either the computer or the player wins
        // The end result of the game is shown 
        // Optional new game to be played

        // TODO make the buttons animated 
        // TODO get images for rock, paper and scissors 
        // TODO After the score is posted change the class of the div to either player-wins or computer-wins
    </script>
</body>
</html>