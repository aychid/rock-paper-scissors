<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock paper scissors</title>
</head>
<body>
    <script>
        // Global variables to decide who won a round 
        let playerWins = false;
        let computerWins = false;

        // Computer choice
        function computerPlay(){
            const options = ["Rock", "Paper", "Scissors"];
            let randNumber = Math.floor(Math.random()*3);
            return options[randNumber];
        }

        // Play a round  
        function playerPlay(){
            return prompt("Enter your choice")

        }

        // TODO instead of two different functions make playerSelection in an anonymous arrow function 
        function playRound(playerSelection, computerSelection){

            if(playerSelection.toUpperCase() === "ROCK") {
                if(computerSelection === "Scissors") {
                    return playerWins = true;
                }
                if(computerSelection === "Paper") {
                    return computerWins = true;
                }
            } else if(playerSelection.toUpperCase() === "PAPER"){
                if(computerSelection === "Rock") {
                    return playerWins = true
                }
                if(computerSelection === "Scissors")
                    return computerWins = true;
            } else if(playerSelection.toUpperCase() === "SCISSORS") {
                if(computerSelection === "Paper") {
                    return playerWins = true; 
                }
                if(computerSelection === "Rock"){
                    return computerWins = true;  
                }
            } else  
               return console.log( "Something went wrong")
        }
        
        // Play best of 5 game
        function game(numberOfGames = 5){
            let playerScore = 0;
            let computerScore = 0;

            for(let i=0; i < numberOfGames; i++) {
                // Initialize answers
                let playerAns = playerPlay();
                let computerAns = computerPlay();
                console.log(playerAns, computerAns)

                // Play single round
                playRound(playerAns, computerAns);
                if(playerWins){
                    playerScore++;
                } 
                if (computerWins) {
                    computerScore++;
                } 
                playerWins = false; 
                computerWins = false;
            }
            return `${playerScore}, ${computerScore}` 
        }
        console.log(game());
    </script>
</body>
</html>